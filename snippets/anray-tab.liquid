<div class="anray-product-container">
  <input type="radio" id="spec-tab" name="product-tabs" checked>
  <input type="radio" id="others-tab" name="product-tabs">
  
  <div class="anray-product-tabs">
    <label class="product-tab" for="spec-tab">Spec</label>
    <label class="product-tab" for="others-tab">Others</label>
    <span class="anray-tab-glider"></span>
  </div>

  <div class="anray-tab-content">
    <!-- Spec Tab Content -->
    <div class="tab-panel" id="spec-content">
      {% comment %} 仅根据要求，此部分已删除 {% endcomment %}
      
      <div class="accordion-container">
        <div class="spec-section accordion-item">
          <div class="accordion-header">
            <p class="spec-title">Blade Technology</p>
            <span class="accordion-icon">+</span>
          </div>
          <div class="accordion-content">
            <div class="spec-item">
              <span class="spec-label">Blade Material:</span>
              <span class="spec-value">Premium Titanium-Coated Ceramic Blades</span>
            </div>
            <div class="spec-item">
              <span class="spec-label">Coating Technology:</span>
              <span class="spec-value">Lower blade with DLC (Diamond-Like Carbon) coating | Upper blade with titanium coating</span>
            </div>
            <div class="spec-item">
              <span class="spec-label">Benefits:</span>
              <span class="spec-value">Prevents pulling, stays cool during use, gentle on sensitive skin, exceptional durability</span>
            </div>
          </div>
        </div>

        <div class="spec-section accordion-item">
          <div class="accordion-header">
            <p class="spec-title">Display Features</p>
            <span class="accordion-icon">+</span>
          </div>
          <div class="accordion-content">
            <div class="spec-item">
              <span class="spec-label">Battery Indicator:</span>
              <span class="spec-value">Smart LCD display with 4-level battery indicator (3 green segments + 1 red/green segment)</span>
            </div>
            <div class="spec-item">
              <span class="spec-label">Speed Display:</span>
              <span class="spec-value">LCD indicator showing 6600 RPM when powered on</span>
            </div>
          </div>
        </div>

        <div class="spec-section accordion-item">
          <div class="accordion-header">
            <p class="spec-title">Included Accessories</p>
            <span class="accordion-icon">+</span>
          </div>
          <div class="accordion-content">
            <div class="spec-item">
              <span class="spec-label">Coming Soon:</span>
              <span class="spec-value">More details will be added</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Others Tab Content -->
    <div class="tab-panel" id="others-content">
      <div class="others-section">
        <div class="section-header">
          <svg class="section-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <path d="M3 3h18v18H3z" stroke-width="2"/>
            <path d="M9 3v18M3 9h18M3 15h18" stroke-width="2"/>
          </svg>
          <span class="section-title">Buy from</span>
        </div>
        <div class="button-group">
          <a href="#" class="tab_btns">Amazon</a>
          <a href="#" class="tab_btns">TikTok</a>
        </div>
      </div>

      <div class="others-section">
        <div class="section-header">
          <svg class="section-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4M7 10l5 5 5-5M12 15V3" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          <span class="section-title">Download</span>
        </div>
        <div class="button-group">
          <a href="#" class="tab_btns">Manual</a>
          <a href="#" class="tab_btns">Tutorial</a>
        </div>
      </div>
    </div>
  </div>
</div>

<style>
  :root {
    --anray-primary-color:rgb(0, 0, 0);
    --anray-secondary-color: #0A0E27;
    --anray-text-color: #333;
    --anray-border-color: #e5e5e5;
    --anray-bg-light:rgba(248, 248, 248, 0.84);
  }

  .anray-product-container {
    width: 100%;
    margin: 2rem 0;
  }

  .anray-product-container > input[type='radio'] {
    display: none;
  }

  .anray-product-tabs {
    display: inline-flex;
    position: relative;
    background-color:rgba(255, 251, 251, 0.62);
    {% comment %} box-shadow: 0 0 1px 0 rgba(24, 94, 224, 0.15), 0 6px 12px 0 rgba(24, 94, 224, 0.15); {% endcomment %}
    padding: 0.5rem;
    border-radius: 50px;
    margin-bottom: 1.5rem;
  }

  .anray-product-tabs * {
    z-index: 2;
  }

  .product-tab {
    display: flex;
    align-items: center;
    justify-content: center;
    height: 40px;
    width: 130px;
    font-size: 1.1rem;
    font-weight: 500;
    border-radius: 50px;
    cursor: pointer;
    transition: color 0.15s ease-in;
    color: var(--anray-text-color);
  }

  .anray-product-container input[id='spec-tab']:checked ~ .anray-product-tabs label[for='spec-tab'],
  .anray-product-container input[id='others-tab']:checked ~ .anray-product-tabs label[for='others-tab'] {
    color: #fff;
  }

  .anray-product-container input[id='spec-tab']:checked ~ .anray-product-tabs .anray-tab-glider {
    transform: translateX(0);
  }

  .anray-product-container input[id='others-tab']:checked ~ .anray-product-tabs .anray-tab-glider {
    transform: translateX(100%);
  }

  .anray-tab-glider {
    position: absolute;
    display: flex;
    height: 40px;
    width: 130px;
    background-color: #080808e0;
    z-index: 1;
    border-radius: 50px;
    transition: 0.25s ease-out;
  }

  /* Tab Content */
  .anray-tab-content {
    position: relative;
    min-height: 400px;
  }

  .tab-panel {
    display: none;
    animation: fadeIn 0.3s ease-in;
  }

  .anray-product-container input[id='spec-tab']:checked ~ .anray-tab-content #spec-content,
  .anray-product-container input[id='others-tab']:checked ~ .anray-tab-content #others-content {
    display: block !important;
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Accordion Container */
  .accordion-container {
    width: 100%;
  }

  /* Spec Content Styles */
  .spec-section {
    margin-bottom: 0.5rem;
    border: 1px solid var(--anray-border-color);
    border-radius: 8px;
    overflow: hidden;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
    transform: translateZ(0);
    backface-visibility: hidden;
    will-change: box-shadow;
  }

  .spec-section:hover {
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  }

  .accordion-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: .66rem 1.5rem;
    cursor: pointer;
    transition: all 0.35s cubic-bezier(0.4, 0, 0.2, 1);
    user-select: none;
  }

  .accordion-header:hover {
    background-color: var(--anray-bg-light);
  }

  .accordion-item.active .accordion-header {
    background-color: var(--anray-bg-light);
  }

  .spec-title {
    font-size: 1rem;
    font-weight: 600;
    color: var(--anray-secondary-color);
    margin: 0;
    transition: color 0.3s ease;
  }

  .accordion-icon {
    font-size: 1.8rem;
    font-weight: 300;
    color: var(--anray-secondary-color);
    transition: transform 0.45s cubic-bezier(0.4, 0, 0.2, 1), color 0.3s ease;
    line-height: 1;
    will-change: transform;
  }

  .accordion-item.active .accordion-icon {
    transform: rotate(45deg);
    color: var(--anray-primary-color);
  }

  .accordion-content {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.5s cubic-bezier(0.4, 0, 0.2, 1), 
                padding 0.5s cubic-bezier(0.4, 0, 0.2, 1),
                opacity 0.4s ease;
    padding: 0 1.5rem;
    opacity: 0;
    will-change: max-height, opacity;
  }

  .accordion-item.active .accordion-content {
    max-height: 600px;
    padding: 0.5rem 1.5rem 1rem 1.5rem;
    opacity: 1;
  }

  .spec-item {
    margin-bottom: 0.6rem;
    line-height: 1.6;
    opacity: 0;
    transform: translateY(-8px);
    transition: opacity 0.4s ease, transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .accordion-item.active .spec-item {
    opacity: 1;
    transform: translateY(0);
  }

  .accordion-item.active .spec-item:nth-child(1) {
    transition-delay: 0.1s;
  }

  .accordion-item.active .spec-item:nth-child(2) {
    transition-delay: 0.15s;
  }

  .accordion-item.active .spec-item:nth-child(3) {
    transition-delay: 0.2s;
  }

  .accordion-item.active .spec-item:nth-child(4) {
    transition-delay: 0.25s;
  }

  .spec-item:last-child {
    margin-bottom: 0;
  }

  .spec-label {
    font-weight: 600;
    color: var(--anray-text-color);
    display: block;
    margin-bottom: 0.25rem;
  }

  .spec-value {
    color: #666;
    display: block;
    padding-left: 0;
  }

  /* Others Content Styles */
  .others-section {
    margin-bottom: 1.5rem;
    display: flex;
    gap: 2rem;
  }

  .section-header {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    min-width: 7rem;
  }

  .section-icon {
    color: var(--anray-secondary-color);
  }

  .section-title {
    font-size: 1.1rem;
    font-weight: 600;
    color: var(--anray-secondary-color);
  }

  .button-group {
    display: flex;
    gap: 1rem;
  }

  /* Button with Ripple Effect */
  .tab_btns,
  .tab_btns:focus,
  .tab_btns:hover {
    position: relative;
    min-width: 200px;
    border: 0;
    border-radius: 35rem;
    background-color:rgb(255, 255, 255);
    color:rgb(0, 0, 0);
    font-size: 1rem;
    font-weight: bold;
    text-align: center;
    text-decoration: none;
    text-transform: uppercase;
    overflow: hidden;
    transition: background 400ms;
    padding: 10px 20px;
    cursor: pointer;
    display: inline-block;
  }

  .tab_btns:hover {
    color:rgb(0, 0, 0);
  }

  .tab_btns .ripple {
    position: absolute;
    border-radius: 50%;
    transform: scale(0);
    animation: ripple-anim 600ms linear;
    background-color: rgba(11, 11, 11, 0.7);
    user-select: none;
    pointer-events: none;
  }

  @keyframes ripple-anim {
    to { 
      transform: scale(4); 
      opacity: 0;
    }
  }

  /* Responsive */
  @media (max-width: 768px) {
    .anray-product-tabs {
      padding: 0.4rem;
    }

    .product-tab {
      height: 40px;
      width: 120px;
      font-size: 1rem;
    }

    .anray-tab-glider {
      height: 40px;
      width: 120px;
    }

    .spec-title {
      font-size: 1.2rem;
    }

    .accordion-header {
      padding: 0.8rem 1rem;
    }

    .accordion-item.active .accordion-content {
      padding: 0.5rem 1rem 0.8rem 1rem;
    }

    .button-group {
      flex-direction: column;
    }

    .tab_btns {
      width: 100%;
      min-width: 100%;
    }
  }

  @media (max-width: 480px) {
    .anray-product-tabs {
      transform: scale(0.9);
    }
  }
</style>

<script>
  // Ensure tab content visibility is properly controlled
  document.addEventListener('DOMContentLoaded', function() {
    const tabInputs = document.querySelectorAll('.anray-product-container > input[type="radio"]');
    const tabPanels = document.querySelectorAll('.anray-product-container .tab-panel');
    
    // Initial display
    const checkedInput = document.querySelector('.anray-product-container > input[type="radio"]:checked');
    if (checkedInput) {
      const targetId = checkedInput.id === 'spec-tab' ? 'spec-content' : 'others-content';
      const targetPanel = document.getElementById(targetId);
      if (targetPanel) {
        targetPanel.style.display = 'block';
      }
    }
    
    // Handle tab changes
    tabInputs.forEach(input => {
      input.addEventListener('change', function() {
        tabPanels.forEach(panel => {
          panel.style.display = 'none';
        });
        
        if (this.id === 'spec-tab') {
          const specContent = document.getElementById('spec-content');
          if (specContent) specContent.style.display = 'block';
        } else if (this.id === 'others-tab') {
          const othersContent = document.getElementById('others-content');
          if (othersContent) othersContent.style.display = 'block';
        }
      });
    });

    // Ripple effect for .tab_btns buttons
    const buttons = document.querySelectorAll(".tab_btns");
    buttons.forEach(button => {
      button.addEventListener("click", (event) => {
        const button = event.currentTarget;
        const circle = document.createElement("span");
        const diameter = Math.max(button.clientWidth, button.clientHeight);
        const radius = diameter / 2;
        
        circle.style.width = circle.style.height = diameter + "px";
        circle.style.left = event.offsetX - radius + "px";
        circle.style.top = event.offsetY - radius + "px";
        circle.classList.add("ripple");
        
        const ripple = button.getElementsByClassName("ripple")[0];
        if (ripple) {
          ripple.remove();
        }
        
        button.appendChild(circle);
      });
    });

    // Accordion functionality with smooth transitions
    const accordionHeaders = document.querySelectorAll('.accordion-header');
    let isAnimating = false;
    
    accordionHeaders.forEach(header => {
      header.addEventListener('click', function() {
        if (isAnimating) return; // 防止动画过程中重复点击
        
        const accordionItem = this.parentElement;
        const isActive = accordionItem.classList.contains('active');
        
        isAnimating = true;
        
        // Close all accordion items with smooth transition
        document.querySelectorAll('.accordion-item').forEach(item => {
          if (item !== accordionItem) {
            item.classList.remove('active');
          }
        });
        
        // If the clicked item wasn't active, open it
        if (!isActive) {
          // 使用 requestAnimationFrame 确保动画流畅
          requestAnimationFrame(() => {
            accordionItem.classList.add('active');
          });
        } else {
          accordionItem.classList.remove('active');
        }
        
        // 动画完成后重置状态
        setTimeout(() => {
          isAnimating = false;
        }, 550); // 略长于最长的过渡时间
      });
    });
  });
</script>

